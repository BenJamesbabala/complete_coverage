<?xml version="1.0" ?>
<launch>

  <arg name="rviz" default="true" />

  <!-- Publish TF tree and create odom from IMU + GPS-->
  <include file="$(find kingfisher_gazebo)/launch/localization_slam.launch" />

  <!-- Start the cartographer node. This node does SLAM. -->
  <node name="cartographer_node" pkg="cartographer_ros"
        type="cartographer_node" args="
        -configuration_directory $(find otter_slam)/config_usv
        -configuration_basename kingfisher.lua"
        output="screen">
    <remap from="scan" to="filtered_scan" />
    <remap from="imu"  to="imu/data" />
    <remap from="odom" to="odom" />
  </node>

  <!-- Visualize SLAM in rviz -->
  <node name="rviz" pkg="rviz" type="rviz" required="true"
        args="-d $(find otter_slam)/config/slam.rviz" if="$(arg rviz)" />

</launch>
